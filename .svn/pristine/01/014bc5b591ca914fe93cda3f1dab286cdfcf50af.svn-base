<%!
private static String[] IspPrefix = {
	"354090", "354190", "355090", "355190", "356003", "356006", "356011", "356012", "356020", "356021", // 10
	"356022", "356023", "356024", "356025", "356027", "356031", "356032", "356033", "356036", "356039", 
	"356303", "356306", "356311", "356312", "356320", "356321", "356322", "356323", "356324", "356325", 
	"356327", "356331", "356332", "356333", "356336", "356339", "356503", "356506", "356511", "356512", 
	"356520", "356521", "356523", "356525", "356527", "356531", "356532", "356533", "356539", "356820", // 50
	"356920", "400923", "401120", "402359", "403803", "403806", "403811", "403812", "403820", "403821", 
	"403822", "403823", "403824", "403825", "403827", "403831", "403832", "403833", "403836", "403839", 
	"404331", "404332", "404333", "404336", "404339", "404720", "404803", "404806", "404811", "404812", 
	"404820", "404821", "404822", "404823", "404824", "404825", "404827", "405220", "406703", "406706", 
	"406711", "406712", "406720", "406721", "406723", "406725", "406727", "406731", "406732", "406733", //100
	"406739", "410120", "414003", "414006", "414011", "414012", "414020", "414021", "414022", "414023", 
	"414024", "414025", "414027", "414031", "414032", "414033", "414036", "414039", "421103", "421106", 
	"421111", "421112", "421120", "421121", "421122", "421123", "421124", "421125", "421127", "421131", 
	"421132", "421133", "421136", "421139", "421403", "421406", "421411", "421412", "421420", "421421", 
	"421423", "421425", "421427", "421431", "421432", "421433", "421439", "433521", "447320", "448103", //150
	"448106", "448111", "448112", "448121", "448122", "448123", "448124", "448125", "448127", "448131", 
	"448132", "448133", "448139", "455303", "455306", "455311", "455312", "455320", "455321", "455322", 
	"455323", "455324", "455325", "455327", "455331", "455332", "455333", "455336", "455339", "455420", 
	"474420", "475503", "475506", "475511", "475512", "475520", "475521", "475522", "475523", "475524", 
	"475525", "475527", "475531", "475532", "475533", "475536", "475539", "490220", "490603", "490606", //200
	"490611", "490612", "490620", "490621", "490622", "490623", "490624", "490625", "490627", "490631", 
	"490632", "490633", "490636", "490639", "518420", "537620", "537703", "537706", "537711", "537712", 
	"537720", "537721", "537722", "537723", "537724", "537725", "537727", "537731", "537732", "537733", 
	"537736", "537739", "538720", "538803", "538806", "538811", "538812", "538820", "538821", "538822", 
	"538823", "538824", "538825", "538827", "538831", "538832", "538833", "538836", "538839", "552103", //250
	"552106", "552111", "552112", "552120", "552121", "552122", "552123", "552124", "552125", "552127", 
	"552131", "552132", "552133", "552139", "552220", "552521", "552527", "552532", "552533", "552803", 
	"552806", "552811", "552812", "552820", "552821", "552823", "552831", "552839", "552920", "558420", 
	"558503", "558506", "558511", "558512", "558520", "558521", "558522", "558523", "558524", "558525", 
	"558527", "558531", "558532", "558533", "558536", "558539", "558725", "558903", "558906", "558911", //300
	"558912", "558920", "558921", "558922", "558923", "558924", "558925", "558927", "558931", "558932", 
	"558933", "558936", "558939", "636094", "636095", "940017", "940050", "940088", "941003", "941006", 
	"941011", "941012", "941020", "941021", "941022", "941023", "941024", "941025", "941027", "941031", 
	"941032", "941033", "941036", "941039", "941520", "942003", "942006", "942011", "942012", "942020", 
	"942021", "942022", "942023", "942024", "942025", "942027", "942031", "942032", "942033", "942036", //350
	"942039", "942520", "943003", "943006", "943011", "943012", "943020", "943021", "943022", "943023", 
	"943024", "943025", "943027", "943031", "943032", "943033", "943036", "943039", "943520", "943920", 
	"943921", "944003", "944006", "944011", "944012", "944021", "944022", "944023", "944024", "944025", 
	"944027", "944031", "944032", "944033", "944039", "944420", "944520", "946003", "946006", "946011", 
	"946012", "946020", "946021", "946023", "946025", "946027", "946031", "946032", "946033", "946036", //400
	"946039", "946520", "947003", "947006", "947011", "947012", "947020", "947021", "947023", "947025", 
	"947027", "947031", "947032", "947033", "947039", "947520", "948003", "948006", "948011", "948012", 
	"948020", "948021", "948023", "948025", "948027", "948031", "948032", "948039" // 428
};

public String checkISP(String pan) {
	String retVal;
	if ( pan == null || pan.length() < 6 )
		retVal = "301";
	else {
		// only works for sorted arrays
		int idx = java.util.Arrays.binarySearch( IspPrefix, pan.substring(0,6) );
		if ( idx >= 0 )
			retVal = "996";
		else
			retVal = "000";
	}
	return retVal;
}
%>